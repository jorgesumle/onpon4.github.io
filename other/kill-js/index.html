<!DOCTYPE html>
<html>

<head>
  <title>Automatically Installed JavaScript: Fix, or Kill? - Onpon's Shelf</title>
  <meta name="description" content="onpon4's games, apps, and other works." />
  <meta name="keywords" content="onpon4, onpon, games, apps, free" />
  <meta http-equiv="content-type" content="text/html; charset=windows-1252" />
  <link rel="stylesheet" type="text/css" href="../../css/style.css" />
</head>

<body>
  <div id="main">
    <header>
      <div id="strapline">
        <div id="welcome_slogan">
          <h3>Onpon's <span>Shelf</span></h3>
        </div><!--close welcome_slogan-->
      </div><!--close strapline-->      
      <nav>
        <div id="menubar">
          <ul id="nav">
            <li><a href="../..">Home</a></li>
            <li><a href="../../about">About</a></li>
            <li><a href="../../games">Games</a></li>
            <li><a href="../../apps">Apps</a></li>
            <li class="current"><a href="..">Other Works</a></li>
            <li><a href="../../contact">Contact</a></li>
            <li><a href="../../links">Links</a></li>
          </ul>
        </div><!--close menubar-->
      </nav>
    </header>

    <div id="site_content">
      <div id="content">
        <div class="content_item">
          <h1>Automatically Installed JavaScript - Fix, or Kill?</h1>
          <p>In Richard Stallman's essay, "The JavaScript Trap", it is pointed out that people run proprietary software which is silently, automatically installed into their browsers every day. In fact, he very much downplayed the problem; not only are most users running proprietary programs every day merely by browsing the Web, they are running dozens or even hundreds of such programs each day. The JavaScript Trap is very real and prolific; the Web is said to be so broken without these non-standard, usually proprietary extensions to HTML that Web browsers have moved toward not even offering an obvious option to disable JavaScript; disabling JavaScript, it is argued, will only cause confusion.</p>

          <p>It's obvious that we need to solve this problem. However, in focusing on whether or not scripts are "trivial" or libre, Mr. Stallman misses a crucial point: this behavior of automatic, silent software installation is, itself, the main problem. That most of the software in question is proprietary is merely a side-effect.</p>

          <p>In response to Mr. Stallman's article, an extension for Firefox and Firefox-derived browsers called LibreJS was developed. This extension automatically analyzes all JavaScript on a page to determine whether or not they are either trivial or libre; if one of these conditions is determined to be true, the software is executed. Otherwise, it is blocked. I appreciate the LibreJS project and what it's trying to do. But I think that LibreJS is fundamentally the wrong approach to solving the problem.</p>

          <p>Right now, LibreJS is failing because it requires a format that isn't recognized anywhere, but theoretically, this could be solved in the future, so let's suppose that it does. Let's suppose even further that LibreJS succeeds so much that it causes a large portion of the Web to release scripts under libre licenses and document the licenses in a format LibreJS can understand.</p>

          <p>It seems great on the surface, but what follows from this is that software is still being silently installed into our browsers every day. The only difference is that LibreJS thinks the programs are libre.</p>

          <p>I don't want to downplay the importance of all software being libre. However, when any software is automatically installed onto our computers by the request of another party, it makes exercising freedom 0 properly impossible. It is assumed that you want all of these JavaScript programs, of which there are likely to be hundreds of new ones each day, to be executed on your computer, typically before you even have a chance to check the source code.</p>

          <p>Even worse, the system of automatic JavaScript software installation only installs the software temporarily, to be executed once. In effect, whenever the server updates a JavaScript program that is sent to users' Web browsers, that update is effectively imposed on the users. Even if the script is libre, it's as if it has a backdoor built-in.</p>

          <p>It is not enough for software to be libre. It also needs to not be installed unless the user authorizes it, and then not updated unless the user authorizes it. Simply visiting a Web page doesn't count as authorization to install whatever software the page wants to install; after all, I have visited the Debian website recently, but that doesn't mean that I authorize an installation of Debian on my computer. Similarly, visiting a Web page that requests installation of JavaScript doesn't necessarily mean you want to install that JavaScript.</p>

          <p>So what can we do? I can think of two solutions.</p>

          <h3>Solution 1: Fix JavaScript</h3>

          <p>The first possible solution, and the most obvious one, is to modify the behavior of Web browsers with regard to JavaScript software requests. I propose that for the system to be acceptable, all of the following conditions MUST be met:</p>

          <ul>
            <li>The browser must install JavaScript code permanently, and only when the user explicitly authorizes it in some fashion.</li>
            <li>The browser must give the user the ability to install any arbitrary script, not just the script requested by the Web page.</li>
            <li>The browser must not upgrade any JavaScript code automatically, unless the user has specified that it should be, and the user must be able to choose where such updates come from.</li>
          </ul>

          <p>You will notice that automatic license detection isn't included in any of this. So how does a user get only libre JavaScript without manually checking every source file? The solution is actually quite simple: the same way as any other libre software.</p>

          <p>When I installed a microblogging client called Hotot from Trisquel's software repository, I didn't check the source code to figure out what license it is, and I didn't run a program to do this for me, either. It's really quite simple: I trust the developers of Trisquel to only include libre software with no malicious features in the Trisquel repository. Incidentally, Trisquel's developers actually <em>can</em> protect Trisquel's users from malware; LibreJS can't. Given all of this, I propose we create and maintain a repository of libre JavaScript code.</p>

          <p>For this to work, installed JavaScript programs should also work for all Web pages that request it, not just one page. What already installed JavaScript code to use by default can be determined by getting a hash of minified versions of installed scripts, and then getting a hash of requested scripts after minifying them the same way. If that doesn't return a match, the file names of the scripts can be checked for matches or near-matches, and the user can be asked if these scripts should be used. Some kind of database in the user's browser specifying websites certain scripts should be used on would also be helpful.</p>

          <p>I suppose this approach would take a considerable amount of effort, and this is probably why RMS, the FSF, and the developer of LibreJS haven't attempted it. But LibreJS is trying to fundamentally change the behavior of all Web developers in the world. Compared to that, I would argue that maintaining a repository of libre JavaScript programs would be a small task.</p>

          <h3>Solution 2: Kill JavaScript</h3>

          <p>When I proposed something like Solution 1 on the bug-gnuzilla mailing list, one reply noted that there's a much simpler solution: rather than trying to fix JavaScript, we could just kill it: disable JavaScript execution in our browsers entirely. Of course, I really mean <em>automatically installed</em> JavaScript. There is nothing wrong with the current use of JavaScript to develop Firefox extensions, for example. User scripts and extensions can even be developed to replace important proprietary JavaScript code.</p>

          <h3>Which approach is better?</h3>

          <p>Each of these approaches has strengths and weaknesses.</p>

          <p>The first solution can yield good results immediately for things like Diaspora and Reddit: websites whose JavaScript code is required, but mostly libre. It would probably not bring about much if any change in the Web, but it doesn't need to in order to work. However, it would require some work to adjust a browser's behavior with respect to JavaScript appropriately, and it would be a lot more work to maintain a repository of libre JavaScript programs.</p>

          <p>The second solution, on the other hand, is rather similar to what LibreJS is currently trying to do. It depends on changing the Web: convincing the majority of Web developers to stop requiring JavaScript code. If it works, it could work spectacularly. On the other hand, it could easily fail spectacularly, or just result in yet another method to automatically, silently install software into users' browsers becoming popular.</p>

          <p>I'm not sure which is better, but LibreJS is neither a good solution, nor a good temporary fix or even a step in the right direction. Until a libre browser which properly fixes JavaScript becomes available, anyone who wants freedom in their computing must disable all normal JavaScript execution in their browsers, even if the code is libre, and Web developers who want to respect their users' freedom should work to eliminate all JavaScript requirements on their websites.</p>
        </div><!--close content_item-->
      </div><!--close content-->
    </div><!--close site_content-->
  </div><!--close main-->

  <footer>
    <div id="footer_content">
      <a href="http://fotogrph.com">Images</a> | website template by <a href="http://www.freehtml5templates.co.uk">Free HTML5 Templates</a><br /><br />
      <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img alt="CC BY-SA" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a><br />Except where otherwise noted, this page is licensed under the <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
    </div><!--close footer_content-->
  </footer>
</body>

</html>
